% setdefault('napaka', '')
% setdefault('naslov', 'Dodajanje novega zajtrka')
% rebase('base.html', povezava='', zavihek='', naslov=naslov, napaka=napaka)

% if defined('zajtrk'):
<form action="/zaposleni/zajtrki/uredi/{{zajtrk[0]}}" method="post" class="row-g3">
% else:
<form action="/zaposleni/zajtrki/dodaj" method="post" class="row-g3">
% end
    <div class="col-12">
        <label for="id" class="form-label">Id</label>
        % if defined('zajtrk'):
            {{zajtrk[0]}}
        % else:
            <input id="id" name="id" type="number" class="form-control" required
                oninput="preveriPolje(this)"
                oninvalid="preveriPolje(this)"
            />
        % end
    </div>
    <div class="col-md-6">
        <label for="ime" class="form-label">Ime</label>
        % if defined('zajtrk'):
            <input id="ime" name="ime" type="text" class="form-control" value="{{zajtrk[1]}}" />
        % else:
            <input id="ime" name="ime" type="text" class="form-control" required
                oninput="preveriPolje(this)"
                oninvalid="preveriPolje(this)"
            />
        % end
    </div>
    <div class="col-md-6">
        <label for="cena" class="form-label">Cena</label>
        % if defined('zajtrk'):
            <input id="cena" name="cena" type="number" class="form-control" value="{{zajtrk[2]}}" />
        % else:
            <input id="cena" name="cena" type="number" step="0.01" class="form-control" required
                oninput="preveriPolje(this)"
                oninvalid="preveriPolje(this)"
            />
        % end
    </div>
    <div class="col-12 d-flex justify-content-end">
        <button class="btn btn-primary" type="submit">
            {{'Popravi zajtrk' if defined('zajtrk') else 'Dodaj nov zajtrk'}}
        </button>
    </div>
</form>


<script>
    function preveriPolje(polje) {
        if(polje.validity.valueMissing) {
            polje.setCustomValidity('Obvezno polje')
        } else if(polje.validity.typeMismatch) {
            polje.setCustomValidity('Vnesti morate število')
        } else if(polje.validity.stepMismatch) {
            polje.setCustomValidity('Cena je lahko zaokrožena na največ dve decimalki')
        } else {
            polje.setCustomValidity('')
        }
    }
</script>
